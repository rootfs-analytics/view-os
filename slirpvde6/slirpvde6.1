.TH SLIRPVDE6 1 "August 7, 2010" "Virtual Distributed Ethernet"
.SH NAME
slirpvde \- Virtual Distributed Ethernet-Slirp interface
.SH SYNOPSIS
.B slirpvde6
.I OPTIONS
[
.I socketdir
]
.SH DESCRIPTION
\fBslirpvde6\fP 
is a slirp interface for a VDE network.

Slirpvde connects all the units (virtual or real machines) on a VDE
to the network
of the host where slirpvde6 runs as it were a NAT/Masquerading router.
The default route is the node address (10.0.2.1 in the default network
configuration).

Slirpvde runs using standard user privileges (no need for root access): 
all the connections are re-generated by slirpvde6 itself.

slirpvde6 is based on LWIPv6 and supports both IPv4 and IPv6.

.SH OPTIONS
.TP
\fB-s, --sock, --socket, --vdesock, --unix\fP \fIdirectory\fP
specify the VDE switch directory (default /var/run/vde.ctl).
The VDE switch directory can be also specified at the end of
the command, as illustrated by the optional parameter \fIsocketdir\fP
in the synopsis section, above.
When '-' is used in place of the VDE switch directory, \fBslirpvde6\fP
works as a plug (see vde_plug(1)).
The command:
.br
.in +5
.B dpipe vde_plug = ssh remote.machine.org slirpvde6 -
.in -5
.br
which is the same as:
.br
.in +5
.B dpipe vde_plug = ssh remote.machine.org slirpvde6 -s -
.in -5
.br
connects the default local switch to a remote slirpvde6.
.TP
\fB-p, --pidfile\fP \fIfilename\fP
specify the name of the file which contains the PID of slirpvde6.
.TP
\fB-d, --daemon\fP
detach from terminal and run \fBslirpvde6\fP in background.
.TP
\fB-H, --host\fP \fIaddress\fP \fR[ \fB / \fI masklen \fR]
specify the host address (default 10.0.2.2/24).
This option automatically defines the network. 
e.g.
.in +5
\fB -H192.168.55.1 \fR
.in -5
or:
.in +5
\fB --host 10.1.2.3/16 \fR
.in -5
The default value for \fImasklen\fR is 24 for IPv4 and 64 for IPv6.
Several -H or --host define several addresses (e.g. IPv4 and IPv6).
e.g.
.in +5
\fB -H10.1.2.3/16 -H2001::3/64 \fR
.in -5
.TP
\fB-N, --dns\fP [ \fIaddress\fP ]
In this way slirpvd6 acts as a dns proxy (an all its addresses).
\fIaddress\fR is the ip address of the dns server, when not indicated
slirpvde6 forwards the requests to the same dns used on the host.
.TP
\fB-D, --dhcp\fP
turn on the DHCP server (IPv4 only) for the network autoconfiguration of
all the units connected to the VDE.
It is possible to specify the start address assigned by the DHCP server 
as follows:
.in +5
\fB --dhcp=10.1.1.44 \fR
.in -5
or 
.in +5
\fB --dhcp=10.1.1.44/50 \fR
.in -5
In this latter example, the number after the slash is the number of
addresses: 10.1.1.44,...,10.1.1.93
DHCP assign addresses starting at host number 15 by default. Using the
default network it starts from 10.0.2.15.
When the DNS proxy is activated, DHCP configures the slirpvde6 
proxy as the standard nameserver for the clients otherwise the clients
use the same nameserver of the host.
.TP
\fB-L \fIport\fR:\fIvde_host\fR:\fIvde_hostport\fR
specifyes a TCP port redirection.
All the TCP packets received by the host running slirpvde6 at port \fIport\fR
will be forwarded to \fIvde_host\fR at port \fIvde_hostport\fR.
.TP
\fB-U \fIport\fR:\fIvde_host\fR:\fIvde_hostport\fR
specifyes a UDP port redirection.
All the UDP packets received by the host running slirpvde6 at port \fIport\fR
will be forwarded to \fIvde_host\fR at port \fIvde_hostport\fR.
.TP
\fB-X \fIvde_host\fR[:\fIdisplay\fR.[\fIscreen\fR]]i
redirect a X window screen of a virtual machine. Slirpvde gets the first unused X display on the
host running slirpvde6 and redirects all the requests to \fIvde_host\fR.
\fIdisplay\fR and \fIscreen\fR] must be specified when different from :0.0.
.TP
\fB-x \fIport\fR:\fIunix_socket_path\fR]
redirect a port of the virtual router (usually 10.0.2.2) to a unix stream socket.
It is used for example to redirect a X display of the hosting computer on the virtual network. e.g. -x6000:/tmp/.X11-unix/X0. (A suitable xhost configuration is needed (e.g. 'xhost local:').
.TP
\fB-t, --tftp\fP \fIpathname\fR
slirpvde6 enables a tftp server sharing (read-only) the directory at \fIpathname\fR.
.TP
\fB-q, --quiet\fP
Quiet;   do   not  write  anything  to  standard  output.

.SH NOTICE
Virtual Distributed Ethernet is not related in any way with
www.vde.com ("Verband der Elektrotechnik, Elektronik und Informationstechnik"
i.e. the German "Association for Electrical, Electronic & Information
Technologies").

.SH SEE ALSO
\fBvde_switch\fP(1),
\fBvde_plug\fP(1),
\fBvde_plug2tap\fP(1),
\fBdpipe\fP(1).
.br
.SH AUTHOR
VDE is a project by Renzo Davoli <renzo@cs.unibo.it>.
Slirp code is by Danny Gasparovsky.
Bootp/DHCP code is based on a previous work by Fabrice Bellard.
